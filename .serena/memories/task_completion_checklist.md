# Чек-лист завершения задачи

## При добавлении/изменении кода

### 1. Проверка функциональности
- [ ] Запустить интерактивный тест: `python sandbox_v2.py`
- [ ] Протестировать основные сценарии из test_scenarios_stress.json
- [ ] Проверить обработку edge cases (пустые запросы, длинные тексты)

### 2. Проверка социальных интентов
- [ ] Приветствия обрабатываются корректно
- [ ] Повторные приветствия не дублируются
- [ ] Mixed запросы (социалка + бизнес) работают правильно

### 3. Проверка производительности
- [ ] Время ответа < 10 секунд
- [ ] Нет утечек памяти при длительной работе
- [ ] История корректно ограничивается 10 сообщениями

### 4. Качество кода
- [ ] Код следует установленным соглашениям
- [ ] Добавлены комментарии на русском языке
- [ ] Обработка ошибок с fallback ответами

### 5. Документация
- [ ] Обновить CLAUDE.md при изменении архитектуры
- [ ] Обновить версию в CLAUDE.md (текущая 0.7.3)
- [ ] Добавить изменения в раздел "Ключевые изменения"

## Специфичные проверки для Ukido

### Router (Gemini)
- [ ] Правильная классификация: success/offtopic/need_simplification
- [ ] Корректный подбор документов (max 4)
- [ ] Социальный контекст определяется правильно

### Generator (Claude/GPT)
- [ ] Ответы 100-150 слов
- [ ] Стиль от лица школы ("мы")
- [ ] Не генерируются URL и контакты

### База знаний
- [ ] При изменении документов обновить summaries.json
- [ ] Проверить соответствие документов в data/documents_compressed/

## Команды для финальной проверки
```bash
# Полный прогон тестов
python tests/test_stress_with_report.py

# Проверка конкретного сценария
python collaborative_test.py "Мама-блогер"

# Интерактивная проверка
python sandbox_v2.py
```