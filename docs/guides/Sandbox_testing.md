# üß™ –ü–µ—Å–æ—á–Ω–∏—Ü–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Ukido —á–∞—Ç–±–æ—Ç–∞ v2.0

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å](#—á—Ç–æ-–∏–∑–º–µ–Ω–∏–ª–æ—Å—å)
2. [–û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã)
3. [Sandbox V2 - –æ—Å–Ω–æ–≤–Ω–∞—è –ø–µ—Å–æ—á–Ω–∏—Ü–∞](#sandbox-v2---–æ—Å–Ω–æ–≤–Ω–∞—è-–ø–µ—Å–æ—á–Ω–∏—Ü–∞)
4. [Collaborative Testing Framework](#collaborative-testing-framework)
5. [–†–µ–∂–∏–º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#—Ä–µ–∂–∏–º—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
6. [–ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
7. [–û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º](#–æ—Ç–ª–∞–¥–∫–∞-–ø—Ä–æ–±–ª–µ–º)

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### ‚úÖ –í–µ—Ä—Å–∏—è 0.7.4 (16.08.2025)
- **–£–ø—Ä–æ—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–≤—Ç–æ—Ä–æ–≤** - —É–¥–∞–ª–µ–Ω —Å–ª–æ–∂–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º check_repeated_question (60 —Å—Ç—Ä–æ–∫)
- **–ù–∞—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–≤—Ç–æ—Ä–æ–≤** - Claude —Å–∞–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–≤—Ç–æ—Ä—ã —á–µ—Ä–µ–∑ –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞
- **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –≤ mixed** - Router –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —á–µ—Ä–µ–∑ social_state
- **–ß–∏—Å—Ç—ã–π –∫–æ–¥** - —É–¥–∞–ª–µ–Ω—ã –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è USE_QUICK_REGEX
- **–ò—Å—Ç–æ—Ä–∏—è = 10 —Å–æ–æ–±—â–µ–Ω–∏–π** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HISTORY_LIMIT –∏–∑ config
- **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - 2 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: Router ‚Üí Generator

### Pipeline —Å–µ–π—á–∞—Å:
```
User Message ‚Üí Router (—Å user_id) ‚Üí [Claude –µ—Å–ª–∏ success] ‚Üí Response
```

## –û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### 1. `sandbox_v2.py` - –≥–ª–∞–≤–Ω–∞—è –ø–µ—Å–æ—á–Ω–∏—Ü–∞
–ß–∏—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ pipeline –±–µ–∑ legacy –∫–æ–¥–∞.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –¢–æ—á–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è production –∫–æ–¥–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ –æ—Ç–≤–µ—Ç–∞ (router_social/claude/fallback)
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –∫–∞–∂–¥–æ–º—É —ç—Ç–∞–ø—É

### 2. `collaborative_test.py` - –¥–ª—è –ø—Ä–æ–≥–æ–Ω–∞ –¥–∏–∞–ª–æ–≥–æ–≤
Framework –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ –∏–∑ test_scenarios_stress.json

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –≤ –¥–∏–∞–ª–æ–≥–µ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ü–û–õ–ù–´–ï –æ—Ç–≤–µ—Ç—ã –±–µ–∑ –æ–±—Ä–µ–∑–∫–∏ (v2.2+)
- –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ –ø—Ä–æ–≥–æ–Ω–∞
- –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –¥–∏–∞–ª–æ–≥–∞–º–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ –≤ 3 —Å–µ–∫—Ü–∏—è—Ö

### 3. ü§ñ `DialogueTester` - —Å—É–±–∞–≥–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
AI-—Å—É–±–∞–≥–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∏–∞–ª–æ–≥–æ–≤

**–ê–∫—Ç–∏–≤–∞—Ü–∏—è:**
- –ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏—Ç–µ: "–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –¥–∏–∞–ª–æ–≥ 3"
- –ò–ª–∏: "—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π —Ç–µ—Å—Ç –ø—Ä–æ –æ–Ω–ª–∞–π–Ω-—Ñ–æ—Ä–º–∞—Ç"

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–µ —Ç–µ—Å—Ç—ã (1-10)
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ –¥–∏–∞–ª–æ–≥–∏ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –í—ã–¥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –°–º. SUBAGENT_DialogueTester.md

## Sandbox V2 - –æ—Å–Ω–æ–≤–Ω–∞—è –ø–µ—Å–æ—á–Ω–∏—Ü–∞

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
```bash
python sandbox_v2.py
```

**–ö–æ–º–∞–Ω–¥—ã –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ:**
- `/clear` - –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- `/user <id>` - —Å–º–µ–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/validate` - –≤–∫–ª/–≤—ã–∫–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é
- `/details` - –ø–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ pipeline
- `/quit` - –≤—ã—Ö–æ–¥

### –†–µ–∂–∏–º –æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è (–¥–ª—è collaborative debugging —Å AI)
```bash
# –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
python sandbox_v2.py -m "–ü—Ä–∏–≤–µ—Ç! –ï—Å—Ç—å –∫—É—Ä—Å—ã?"

# –° —É–∫–∞–∑–∞–Ω–∏–µ–º user_id
python sandbox_v2.py -m "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç?" user123
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë            –†–ï–ó–£–õ–¨–¢–ê–¢ –û–ë–†–ê–ë–û–¢–ö–ò               ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

üë§ –í–æ–ø—Ä–æ—Å: –ü—Ä–∏–≤–µ—Ç! –ï—Å—Ç—å –∫—É—Ä—Å—ã?
ü§ñ –û—Ç–≤–µ—Ç: –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –£ –Ω–∞—Å –µ—Å—Ç—å —Ç—Ä–∏ –∫—É—Ä—Å–∞...

üìä –ú–µ—Ç—Ä–∏–∫–∏:
  ‚Ä¢ –°—Ç–∞—Ç—É—Å: success
  ‚Ä¢ –ò—Å—Ç–æ—á–Ω–∏–∫: claude
  ‚Ä¢ –°–æ—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: greeting
  ‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç—ã: courses_detailed.md
  ‚Ä¢ –í—Ä–µ–º—è: 2.45s (Router: 0.82s, Generator: 1.63s)

‚úîÔ∏è –í–∞–ª–∏–¥–∞—Ü–∏—è:
  ‚úÖ –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –µ—Å—Ç—å
  ‚úÖ Mixed –∑–∞–ø—Ä–æ—Å –æ–±—Ä–∞–±–æ—Ç–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é
  ‚úÖ Claude –æ–±—Ä–∞–±–æ—Ç–∞–ª —É—Å–ø–µ—à–Ω–æ
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
```bash
python sandbox_v2.py --test
```

–ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
- Mixed –∑–∞–ø—Ä–æ—Å—ã (–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –≤–æ–ø—Ä–æ—Å)
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è (—Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è!)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã ("–ê?")
- –ü—Ä–æ—â–∞–Ω–∏—è

### –¢–µ—Å—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π (–ù–û–í–û–ï –≤ v0.7.2+)
```bash
python test_mixed_greetings.py
```
–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π –≤ mixed –∑–∞–ø—Ä–æ—Å–∞—Ö.

## Collaborative Testing Framework

### –ó–∞–ø—É—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É —Å—Ü–µ–Ω–∞—Ä–∏—è
```bash
python collaborative_test.py 1
```

### –ó–∞–ø—É—Å–∫ –ø–æ –∏–º–µ–Ω–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è
```bash
python collaborative_test.py "–ó–∞–±—ã–≤—á–∏–≤–∞—è –±–∞–±—É—à–∫–∞"
```

### –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç (–æ–±–Ω–æ–≤–ª–µ–Ω–æ 17.08.2025):
1. **–°–ï–ö–¶–ò–Ø 1: –ü–û–õ–ù–´–ï –í–û–ü–†–û–°–´ –ò –û–¢–í–ï–¢–´** - –±–µ–∑ –æ–±—Ä–µ–∑–∫–∏, –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –≤—Å–µ—Ö –æ—Ç–≤–µ—Ç–æ–≤
2. **–°–ï–ö–¶–ò–Ø 2: –ú–ï–¢–†–ò–ö–ò** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –∫–∞–∂–¥–æ–º—É —à–∞–≥—É –∏ –∏—Ç–æ–≥–æ–≤—ã–µ
3. **–°–ï–ö–¶–ò–Ø 3: –ê–ù–ê–õ–ò–ó –ò –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –° 17.08.2025 –æ—Ç–≤–µ—Ç—ã –ù–ï –æ–±—Ä–µ–∑–∞—é—Ç—Å—è! –í—ã —É–≤–∏–¥–∏—Ç–µ –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üìã –°–¶–ï–ù–ê–†–ò–ô: –ó–∞–±—ã–≤—á–∏–≤–∞—è –±–∞–±—É—à–∫–∞ —Å –ø–æ–≤—Ç–æ—Ä–∞–º–∏
üìù –û–ø–∏—Å–∞–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–±–æ—Ç—É –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –≤–æ–ø—Ä–æ—Å–∞—Ö
üìä –®–∞–≥–æ–≤: 7

üìù –ü–û–õ–ù–´–ô –î–ò–ê–õ–û–ì:

üë§ –í–æ–ø—Ä–æ—Å 1: –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –£ –≤–∞—Å –µ—Å—Ç—å –∫—É—Ä—Å—ã –¥–ª—è –≤–Ω—É–∫–∞?
ü§ñ –û—Ç–≤–µ—Ç: –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –î–∞, —É –Ω–∞—Å –µ—Å—Ç—å –∫—É—Ä—Å—ã...

[... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —à–∞–≥–∏ ...]

üìä –ú–ï–¢–†–ò–ö–ò –ü–û –®–ê–ì–ê–ú:

–®–∞–≥ 1: success | –ò—Å—Ç–æ—á–Ω–∏–∫: claude | –í—Ä–µ–º—è: 3.2s
–®–∞–≥ 2: success | –ò—Å—Ç–æ—á–Ω–∏–∫: claude | –í—Ä–µ–º—è: 2.8s
...

üìà –ò–¢–û–ì–û–í–´–ï –ú–ï–¢–†–ò–ö–ò:
  ‚Ä¢ –û–±—â–µ–µ –≤—Ä–µ–º—è: 18.5s
  ‚Ä¢ –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: 2.6s
  ‚Ä¢ –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: 100%
  ‚Ä¢ –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤:
    - claude: 5 (71.4%)
    - router_social: 2 (28.6%)
```

## –†–µ–∂–∏–º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
–ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –ø—Ä–∞–≤–æ–∫ –≤ –∫–æ–¥:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ
python sandbox_v2.py -m "–ü—Ä–∏–≤–µ—Ç! –ï—Å—Ç—å –∫—É—Ä—Å—ã?"

# –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∏–∞–ª–æ–≥
python collaborative_test.py 1
```

### 2. Collaborative debugging —Å AI
```python
# AI –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç
python sandbox_v2.py -m "–ü—Ä–∏–≤–µ—Ç!"

# –í–∏–¥–∏—Ç –ø—Ä–æ–±–ª–µ–º—É –≤ –≤—ã–≤–æ–¥–µ
# –ü—Ä–∞–≤–∏—Ç –∫–æ–¥ —á–µ—Ä–µ–∑ Edit
# –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–Ω–æ–≤–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
```

### 3. –†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ü—Ä–æ–≥–Ω–∞—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
for i in {1..10}; do
  python collaborative_test.py $i > results_$i.txt
done
```

## –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç 1: Mixed –∑–∞–ø—Ä–æ—Å
```bash
python sandbox_v2.py -m "–ü—Ä–∏–≤–µ—Ç! –°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –æ–±—É—á–µ–Ω–∏–µ?"
```
**–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ü–µ–Ω–∞—Ö

### –¢–µ—Å—Ç 2: –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
```bash
# –í –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ
python sandbox_v2.py
User: –ü—Ä–∏–≤–µ—Ç!
User: –ö–∞–∫ –¥–µ–ª–∞?
User: –ü—Ä–∏–≤–µ—Ç!  # –î–æ–ª–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–≤—Ç–æ—Ä
```

### –¢–µ—Å—Ç 3: –ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã–π –≤–æ–ø—Ä–æ—Å
```bash
# –í –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ
python sandbox_v2.py
User: –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ —Ü–µ–Ω—ã
User: –ê?  # –î–æ–ª–∂–µ–Ω –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ç–µ–º—É —Ü–µ–Ω
```

### –¢–µ—Å—Ç 4: –ü—Ä–æ—â–∞–Ω–∏–µ
```bash
python sandbox_v2.py -m "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!"
```
**–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ø—Ä–æ—â–∞–Ω–∏–µ –±–µ–∑ offtopic message

## –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –≤ –æ—Ç–≤–µ—Ç–µ

**–ì–¥–µ –∏—Å–∫–∞—Ç—å:**
- `router.py:139` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä–æ–≥ confidence (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 0.7)
- `router.py:141-157` - –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
```bash
python -c "
from src.social_intents import detect_social_intent
det = detect_social_intent('–ü—Ä–∏–≤–µ—Ç!')
print(f'Intent: {det.intent}, Confidence: {det.confidence}')
"
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è

**–ì–¥–µ –∏—Å–∫–∞—Ç—å:**
- `router.py:148-157` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ user_id –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ Router

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º —Å –æ–¥–Ω–∏–º user_id
python sandbox_v2.py
/user test_user
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–ì–¥–µ –∏—Å–∫–∞—Ç—å:**
- `router.py:92-114` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É–ª—å—Ç—Ä–∞-–∫—Ä–∞—Ç–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
- –ò—Å—Ç–æ—Ä–∏—è –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –≤ Router

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
```bash
python collaborative_test.py 2  # –°—Ü–µ–Ω–∞—Ä–∏–π —Å "–ê?" –≤–æ–ø—Ä–æ—Å–∞–º–∏
```

## –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –¢–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (v0.7.4):
- **–ß–∏—Å—Ç–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ:** 0.0s (Router –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ)
- **–ë–∏–∑–Ω–µ—Å-–≤–æ–ø—Ä–æ—Å:** 2-3s (Router + Claude)  
- **Mixed –∑–∞–ø—Ä–æ—Å:** 3-4s (Router —Å —Å–æ—Ü–∏–∞–ª–∫–æ–π + Claude)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$0.0015 –∑–∞ –æ—Ç–≤–µ—Ç

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π:
| –ú–µ—Ç—Ä–∏–∫–∞ | v0.7.3 (—Å–ª–æ–∂–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º) | v0.7.4 (–Ω–∞—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞) |
|---------|------------------------|--------------------------|
| –ß–∏—Å—Ç–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ | 0.0s (Router local) | 0.0s (Router local) |
| Mixed –∑–∞–ø—Ä–æ—Å | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–≤—Ç–æ—Ä–æ–≤ | –°–ª–æ–∂–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º (60 —Å—Ç—Ä–æ–∫) | Claude –Ω–∞—Ç–∏–≤–Ω–æ —á–µ—Ä–µ–∑ –ø—Ä–æ–º–ø—Ç |
| –°—Ç–æ–∏–º–æ—Å—Ç—å | $0.0015 | $0.0015 |

## –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:
- `sandbox_v2.py` - –≥–ª–∞–≤–Ω–∞—è –ø–µ—Å–æ—á–Ω–∏—Ü–∞ (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)
- `collaborative_test.py` - framework –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤ (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)
- `tests/integration/test_new_architecture.py` - –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:
- `tests/test_scenarios_stress.json` - —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤
- `data/documents_compressed/` - –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- `src/config.py` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã (HISTORY_LIMIT=10)
- `.env` - API –∫–ª—é—á–∏

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ sandbox_v2.py** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–æ–ª–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏** —á–µ—Ä–µ–∑ collaborative_test.py
3. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π** - –æ–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –î–ª—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤:
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º -m** –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö —Ç–µ—Å—Ç–æ–≤
2. **–°–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫ –æ—Ç–≤–µ—Ç–∞** (router_social vs claude)
3. **–û–±—Ä–∞—â–∞–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—é** - –∫—Ä–∞—Å–Ω—ã–µ –∫—Ä–µ—Å—Ç–∏–∫–∏ = –ø—Ä–æ–±–ª–µ–º—ã

## Changelog

### v2.3 (17.08.2025 –≤–µ—á–µ—Ä) - –ü–æ—Å–ª–µ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- **–û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –ø—É—Ç–∏** –ø–æ—Å–ª–µ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –£–¥–∞–ª–µ–Ω—ã —É–ø–æ–º–∏–Ω–∞–Ω–∏—è —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ñ–∞–π–ª–æ–≤ (interactive_test.py, sandbox_improved.py)
- –¢–µ—Å—Ç—ã –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –≤ `tests/integration/`
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞ –≤ `docs/guides/`

### v2.2 (17.08.2025)
- **collaborative_test.py —É–ª—É—á—à–µ–Ω**: —É–±—Ä–∞–Ω–∞ –æ–±—Ä–µ–∑–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ [:200]
- –î–æ–±–∞–≤–ª–µ–Ω–æ —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞ –Ω–∞ 3 —Å–µ–∫—Ü–∏–∏
- –¢–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ü–û–õ–ù–´–ï –æ—Ç–≤–µ—Ç—ã –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–∏–∞–ª–æ–≥–∏: "–î–ª–∏–Ω–Ω—ã–π –¥–∏–∞–ª–æ–≥ —Å –ø–∞–º—è—Ç—å—é", "–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Ä–æ–¥–∏—Ç–µ–ª—å"

### v2.1 (16.08.2025)
- –£–ø—Ä–æ—â–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–≤—Ç–æ—Ä–æ–≤ (v0.7.4)
- –£–¥–∞–ª–µ–Ω —Å–ª–æ–∂–Ω—ã–π check_repeated_question(), –∑–∞–º–µ–Ω–µ–Ω –ø—Ä–æ–º–ø—Ç–æ–º Claude
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –≤ collaborative_test.py –∏ sandbox_v2.py
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–¥ –≤–µ—Ä—Å–∏—é 0.7.4

### v2.0 (16.08.2025)
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã sandbox_v2.py –∏ collaborative_test.py
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –ø–æ–¥ –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

### v1.0 (15.08.2025)  
- –ò—Å—Ö–æ–¥–Ω–∞—è –≤–µ—Ä—Å–∏—è

---
*–ê–∫—Ç—É–∞–ª—å–Ω–æ –Ω–∞ 17.08.2025 –¥–ª—è –≤–µ—Ä—Å–∏–∏ —Å–∏—Å—Ç–µ–º—ã 0.7.6 (–ø–æ—Å–ª–µ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)*